<!DOCTYPE html>
<html>
<head>
    <title>Patient Note Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 1em;
            background-color: #f7f7f7;
        }

        form {
            background-color: white;
            padding: 2em;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 2em;
        }

        .form-group {
            margin-bottom: 1em;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: .5em;
        }

        input, textarea {
            width: 100%;
            padding: 0.5em;
            border: 1px solid #ddd;
            border-radius: 3px;
            margin-bottom: .5em;
            box-sizing: border-box;
        }

        button {
            display: block;
            width: 100%;
            padding: 1em;
            border: none;
            color: white;
            background-color: #007BFF;
            border-radius: 3px;
            cursor: pointer;
            font-size: 1em;
        }

        button:hover {
            background-color: #0056b3;
        }

        #noteDisplay {
            background-color: white;
            padding: 2em;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #noteDisplay h2 {
            margin-top: 0;
        }

        #noteDisplay p {
            margin: 0.5em 0;
        }
    </style>
</head>
<body>
    <h1>Patient Note Generator</h1>
    <form id="noteForm">
        <div class="form-group">
            <label for="observation">Observation</label>
            <input type="text" id="observation" name="observation" required>
        </div>
        <div class="form-group">
            <label for="diagnosis">Diagnosis</label>
            <input type="text" id="diagnosis" name="diagnosis" required>
        </div>
        <div class="form-group">
            <label for="impression">Impression</label>
            <input type="text" id="impression" name="impression" required>
        </div>
        <div class="form-group">
            <label for="plan">Plan</label>
            <input type="text" id="plan" name="plan" required>
        </div>
        <div id="customSections"></div>
        <button type="button" id="addCustomSection">+ Add Custom Section</button>
        <button type="submit">Generate Note</button>
    </form>

    <div id="noteDisplay" style="display: none;">
        <!-- Displayed content here -->
    </div>
    <button id="printButton">Print PDF</button>

    <script>
        var customSections = document.getElementById('customSections');

        document.getElementById('addCustomSection').addEventListener('click', function () {
            var customSectionDiv = document.createElement('div');
            customSectionDiv.className = 'custom-section';
            customSectionDiv.innerHTML = '<div class="form-group"><label for="customTitle">Title</label><input type="text" class="custom-title" required></div><div class="form-group"><label for="customContent">Content</label><input type="text" class="custom-content" required></div>';
            customSections.appendChild(customSectionDiv);
        });

        document.getElementById('noteForm').addEventListener('submit', function (event) {
            event.preventDefault();  // Stop the form from submitting normally

            var observation = document.getElementById('observation').value;
            var diagnosis = document.getElementById('diagnosis').value;
            var impression = document.getElementById('impression').value;
            var plan = document.getElementById('plan').value;

            var noteContent = '<h2>Patient Note</h2>';
            noteContent += '<p>Observation: ' + observation + '</p>';
            noteContent += '<p>Diagnosis: ' + diagnosis + '</p>';
            noteContent += '<p>Impression: ' + impression + '</p>';
            noteContent += '<p>Plan: ' + plan + '</p>';
            noteContent += '<p>Date: ' + new Date().toLocaleDateString() + '</p>';
            noteContent += '<p>Signature: ________________________</p>';

            var customTitles = document.querySelectorAll('.custom-title');
            var customContents = document.querySelectorAll('.custom-content');
            for (var i = 0; i < customTitles.length; i++) {
                noteContent += '<h3>' + customTitles[i].value + '</h3>';
                noteContent += '<p>' + customContents[i].value + '</p>';
            }

            var noteDisplay = document.getElementById('noteDisplay');
            noteDisplay.innerHTML = noteContent;
            noteDisplay.style.display = 'block';
        });

        document.getElementById('printButton').addEventListener('click', function() {
            var printContents = document.getElementById('noteDisplay').innerHTML;
            var originalContents = document.body.innerHTML;

            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;
        });
    </script>
</body>
</html>
